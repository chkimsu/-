const e={일:1,이:2,삼:3,사:4,오:5,육:6,륙:6,칠:7,팔:8,구:9},n=[["천",1e3],["백",100],["십",10]],t=[["양",1e28],["자",1e24],["해",1e20],["경",1e16],["조",1e12],["억",1e8],["만",1e4]],r=e=>!isNaN(e.parsed);function u(...e){return n=>e.flatMap(e=>e(n).filter(r))}function s(e,n){return function(t){const r=t.match(e);if(null==r)return[];const u=r[0];return[{consumed:t.slice(0,u.length),parsed:n(u),rest:t.slice(u.length)}]}}const o=s(/^[+-]?\d+(?:,\d+)*/,e=>Number(e.replace(/,/g,""))),c=s(/^[+-]?(?:\d+(?:,\d+)*[.]\d*|[.]\d+)/,e=>Number(e.replace(/,/g,""))),i=s(/^[+-]?(?:\d+[.]?\d*|[.]\d+)e[+-]?\d+/i,Number);function l(e){return function(n){let t=[];for(const r in e)n.slice(0,r.length)===r&&t.push({consumed:r,parsed:e[r],rest:n.slice(r.length)});return t}}function d(e){return function(n){return{consumed:e.consumed+n.consumed,parsed:e.parsed+n.parsed,rest:n.rest}}}function f(e){return function(n){return{consumed:e.consumed+n.consumed,parsed:e.parsed*n.parsed,rest:n.rest}}}function m(e,n=d,t=!0){return e.length?e.reduce(function(e,u){return function(s){let o=[];t&&o.push(...u(s));for(const r of e(s)){if(t&&o.push(r),r.rest.length>=s.length)throw Error("Infinite Recursion");o.push(...u(r.rest).map(n(r)))}return o.filter(r)}}):e=>[]}function p(e,n,t,r=!1){function s(e){const n=e.rest.match(/^(\s*)(.*)$/);return null==n?e:{consumed:e.consumed+n[1],parsed:e.parsed,rest:n[2]}}let o=e.map(e=>function(e,n,t){const r=l({[n]:t});return u(r,m([e,r],f,!1))}(n,...e));return r&&(o=o.map(e=>n=>e(n).map(s))),m([...o,t||n])}const a=p(n,l(e)),h=m([u(s(/^영/,e=>0),p(t,a,void 0,!0)),s(/^\s*점\s*[영일이삼사오육륙칠팔구]+/,function(n){const t=n.trim().slice(1).trim().split("").map(n=>e[n]||"0").join("");return Number("0."+t)})]),g=p(n,s(/^[1-9]/,Number)),N=p(t,g,void 0,!0),b=p(t,s(/^[1-9]\d{0,3}/,Number),void 0,!0);function v(e){return u(m([s(/^플러스\s*|^[+](?=\d)/,e=>1),e],f,!1),m([s(/^마이너스\s*|^[-](?=\d)/,e=>-1),e],f,!1),e)}const j=u(s(/^스무/,e=>20),m([l({열:10,스물:20,서른:30,마흔:40,쉰:50,예순:60,일흔:70,여든:80,아흔:90,십:10,일십:10,이십:20,삼삽:30,사십:40,오십:50,육십:60,륙십:60,칠십:70,팔십:80,구십:90}),l({하나:1,둘:2,셋:3,넷:4,다섯:5,여섯:6,일곱:7,여덟:8,아홉:9,한:1,두:2,세:3,석:3,서:3,네:4,넉:4,너:4,닷:5,엿:6})])),w=p([["천",1e3],["백",100]],l(e),j),x=p(t,a,w,!0),E={숫자:u(o,c,i),숫자혼용:v(u(N,b)),한자어:v(h),순우리말:x};function I(e,n=["숫자","숫자혼용","한자어","순우리말"]){e=e.trim();const t=function(...e){let n=null;for(const t of e)t&&(n?n.rest.length>t.rest.length&&(n=t):n=t);return n}(...u(...n.map(e=>E[e]).filter(e=>e))(e));return t?[t.parsed,t.rest.trim()]:[NaN,e]}function M(e,n,t=["숫자","숫자혼용","한자어","순우리말"]){e=e.trim();const r=u(...t.map(e=>E[e]).filter(e=>e))(e),s=r.map(n);let o=null;for(let e=0;e<r.length;e++)null!==s[e]&&(null===o||r[o].rest.length>r[e].rest.length)&&(o=e);return null!==o?s[o]:null}export{M as extractAndProcessNumber,I as extractNumber};
//# sourceMappingURL=kor-to-number.modern.js.map
